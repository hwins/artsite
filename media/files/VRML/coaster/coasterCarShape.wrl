#VRML V2.0 utf8

# coasterCarShape.wrl - the shape nodes that make up the coaster
# car. Several IndexedFaceSet nodes are used to make the different
# parts of the car.

# shape of the coaster car 
# use IndexFaceSet to get a curved look
Group {
    children [
        # underside of car
        Shape {
            appearance  Appearance {
                material Material {
                    diffuseColor 0.8 0.9 0.8
                    ambientIntensity 0.4
                    emissiveColor 0.5 0.3 0.2
                    specularColor 0.2 0.6 0.3
                    shininess 1
                }
            }
            geometry IndexedFaceSet {
                coord Coordinate {
                    point [
                        # bottom
                        -0.7 -0.2 -1.8, #0
                        0.7 -0.2 -1.8, #1
                        0.8 -0.2 1.1, #2
                        -0.8 -0.2 1.1, #3
                        -1.0 0.0 -1.7, #4
                        -0.6 0.0 -2.0, #5
                        0.6 0.0 -2.0, #6
                        1.0 0.0 -1.7, #7
                        1.0 0.0 1.3, #8
                        -1.0 0.0 1.3 #9
                    ]
                }
                coordIndex [
                    # bottom
                    0, 1, 2, 3, -1,
                    # left front
                    0, 4, 5, -1,
                    # front
                    0, 5, 6, 1, -1,
                    # right front
                    1, 6, 7, -1,
                    # right side
                    1, 7, 8, 2, -1,
                    # back
                    3, 2, 8, 9, -1,
                    # left side
                    0, 3, 9, 4, -1,
                    # top
                    4, 5, 6, 7, 8, 9, -1,
                ]
                convex FALSE
                creaseAngle 1.57
            }
        }
        # middle part of car
        Shape {
            appearance DEF carColor Appearance {
                material Material {
                    diffuseColor 0.8 0.7 0.4
                    ambientIntensity 0.4
                    emissiveColor 0.3 0.3 0.2
                    specularColor 0.8 0.6 0.3
                    shininess 1
                }
            }
            # bottom part of car middle
            geometry IndexedFaceSet {
                coord Coordinate {
                    point [
                        # bottom
                        -1.0 0.0 -1.7, #0
                        -0.6 0.0 -2.0, #1
                        0.6 0.0 -2.0, #2
                        1.0 0.0 -1.7, #3
                        1.0 0.0 1.3, #4
                        -1.0 0.0 1.3, #5
                        #top
                        -0.5 0.5 -1.3, #6
                        0.5 0.5 -1.3, #7
                        0.6 0.5 2.0, #8
                        -0.6 0.5 2.0 #9
                    ]
                }
                coordIndex [
                    # bottom
                    0, 1, 2, 3, 4, 5, -1,
                    # left front
                    0, 6, 1, -1,
                    # front
                    1, 6, 7, 2, -1,
                    # right front
                    2, 7, 3, -1,
                    # right side
                    7, 8, 4, 3, -1,
                    # back
                    4, 8, 9, 5, -1,
                    # left side
                    0, 5, 9, 6, -1,
                    # top
                    6, 9, 8, 7, -1,
                ]
                convex FALSE
                creaseAngle 1.57
            }
        }
        # right headlight
        Transform {
            translation 0.3 0.2 -1.65
            rotation 1 0 0 1.57
            children [
                DEF headLight Shape {
                    appearance Appearance {
                        material Material {
                            emissiveColor 0.8 0.8 0.5
                            ambientIntensity 0.9
                        }
                    }
                    geometry Cylinder {
                        radius 0.1
                        height 0.5
                    }
                }
            ]
        }
        # left headlight
        Transform {
            translation -0.3 0.2 -1.65
            rotation 1 0 0 1.57
            children USE headLight
        }
        # right tailfin
        Transform {
            translation 0.3 0.5 2.0
            children [
                DEF tailfin Shape {
                    appearance USE carColor
                    # bottom part of car middle
                    geometry IndexedFaceSet {
                        coord Coordinate {
                            point [
                                # bottom
                                0.0 0.0 -0.8, #0
                                0.3 0.0 0.0, #1
                                -0.3 0.0 0.0, #2
                                -0.0 0.3 0.0, #3
                                0.1 0.3 0.2, #4
                                -0.1 0.3 0.2, #5
                                0.0 0.9 0.2, #6
                            ]
                        }
                        coordIndex [
                            # bottom
                            0, 1, 2, -1,
                            # front lower right side
                            0, 3, 1, -1,
                            # front lower left side
                            0, 2, 3, -1,
                            # back rear right
                            1, 3, 4, -1,
                            # back rear left
                            2, 5, 3, -1,
                            # lower back
                            5, 2, 1, 4, -1,
                            # right upper side
                            3, 6, 4, -1,
                            # left upper side
                            5, 6, 3, -1,
                            # upper back
                            5, 4, 6, -1
                        ]
                        convex FALSE
                        creaseAngle 1.57
                    }
                }
            ]
        }
         # right tailfin
        Transform {
            translation -0.3 0.5 2.0
            children USE tailfin
        }
        # passenger dome
        Transform {
            translation 0.0 0.5 0.0
            scale 0.5 0.5 1.0
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            ambientIntensity .5
                            shininess .9
                            diffuseColor .8 .8 1
                            specularColor .4 .2 .2
                        }
                    }
                    geometry Sphere { }
                }
            ]
        }
    ]
}